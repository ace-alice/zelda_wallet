import{c as t,a as e}from"./buffer-BisoC_5H.js";const n=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,r=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,i=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e}function s(t,e){if(null==t)return;let n=t;for(let r=0;r<e.length;r++){if(null==n||null==n[e[r]])return;n=n[e[r]]}return n}function a(t,e,n){if(0===n.length)return e;const r=n[0];return n.length>1&&(e=a("object"==typeof t&&null!==t&&Object.prototype.hasOwnProperty.call(t,r)?t[r]:Number.isInteger(Number(n[1]))?[]:{},e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function u(t,e){if(null==t||0===e.length)return t;if(1===e.length){if(null==t)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const e in t)n[e]=t[e];return delete n[e[0]],n}if(null==t[e[0]]){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const e in t)n[e]=t[e];return n}return a(t,u(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function c(t,e){return e.map((t=>t.split("."))).map((e=>[e,s(t,e)])).filter((t=>!!t[1])).reduce(((t,e)=>a(t,e[1],e[0])),{})}function l(t,e){return e.map((t=>t.split("."))).reduce(((t,e)=>u(t,e)),t)}function f(t,{storage:e,serializer:n,key:r,debug:i,pick:o,omit:s,beforeHydrate:a,afterHydrate:u},f,h=!0){try{h&&(null==a||a(f));const i=e.getItem(r);if(i){const e=n.deserialize(i),r=o?c(e,o):e,a=s?l(r,s):r;t.$patch(a)}h&&(null==u||u(f))}catch(d){}}function h(t,{storage:e,serializer:n,key:r,debug:i,pick:o,omit:s}){try{const i=o?c(t,o):t,a=s?l(i,s):i,u=n.serialize(a);e.setItem(r,u)}catch(a){}}function d(t={}){return function(e){!function(t,e){const{pinia:n,store:r,options:{persist:i}}=t;if(!i)return;if(!(r.$id in n.state.value)){const t=n._s.get(r.$id.replace("__hot:",""));return void(t&&Promise.resolve().then((()=>t.$persist())))}const o=(Array.isArray(i)?i:!0===i?[{}]:[i]).map(e);r.$hydrate=({runHooks:e=!0}={})=>{o.forEach((n=>{f(r,n,t,e)}))},r.$persist=()=>{o.forEach((t=>{h(r.$state,t)}))},o.forEach((e=>{f(r,e,t),r.$subscribe(((t,n)=>h(n,e)),{detached:!0})}))}(e,(s=>{var a,u,c,l,f,h,d;return{key:(t.key?t.key:t=>t)(null!=(a=s.key)?a:e.store.$id),debug:null!=(c=null!=(u=s.debug)?u:t.debug)&&c,serializer:null!=(f=null!=(l=s.serializer)?l:t.serializer)?f:{serialize:t=>JSON.stringify(t),deserialize:t=>function(t,e={}){if("string"!=typeof t)return t;const s=t.trim();if('"'===t[0]&&t.endsWith('"')&&!t.includes("\\"))return s.slice(1,-1);if(s.length<=9){const t=s.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;if("null"===t)return null;if("nan"===t)return Number.NaN;if("infinity"===t)return Number.POSITIVE_INFINITY;if("-infinity"===t)return Number.NEGATIVE_INFINITY}if(!i.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(n.test(t)||r.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,o)}return JSON.parse(t)}catch(a){if(e.strict)throw a;return t}}(t)},storage:null!=(d=null!=(h=s.storage)?h:t.storage)?d:window.localStorage,beforeHydrate:s.beforeHydrate,afterHydrate:s.afterHydrate,pick:s.pick,omit:s.omit}}))}}const p=e({exports:{}}.exports=function(){var t=6e4,e=36e5,n="millisecond",r="second",i="minute",o="hour",s="day",a="week",u="month",c="quarter",l="year",f="date",h="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),o=n-i<0,s=e.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:l,w:a,d:s,D:f,h:o,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",b={};b[y]=g;var w="$isDayjsObject",$=function(t){return t instanceof M||!(!t||!t[w])},A=function t(e,n,r){var i;if(!e)return y;if("string"==typeof e){var o=e.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var a=e.name;b[a]=e,i=a}return!r&&i&&(y=i),i||!r&&y},C=function(t,e){if($(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new M(n)},k=v;k.l=A,k.i=$,k.w=function(t,e){return C(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function g(t){this.$L=A(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(k.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return k},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var n=C(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return C(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<C(t)},m.$g=function(t,e,n){return k.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,c=!!k.u(e)||e,h=k.p(t),d=function(t,e){var r=k.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(s)},p=function(t,e){return k.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case l:return c?d(1,0):d(31,11);case u:return c?d(1,m):d(0,m+1);case a:var b=this.$locale().weekStart||0,w=(g<b?g+7:g)-b;return d(c?v-w:v+(6-w),m);case s:case f:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var a,c=k.p(t),h="set"+(this.$u?"UTC":""),d=(a={},a[s]=h+"Date",a[f]=h+"Date",a[u]=h+"Month",a[l]=h+"FullYear",a[o]=h+"Hours",a[i]=h+"Minutes",a[r]=h+"Seconds",a[n]=h+"Milliseconds",a)[c],p=c===s?this.$D+(e-this.$W):e;if(c===u||c===l){var g=this.clone().set(f,1);g.$d[d](p),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[k.p(t)]()},m.add=function(n,c){var f,h=this;n=Number(n);var d=k.p(c),p=function(t){var e=C(h);return k.w(e.date(e.date()+Math.round(t*n)),h)};if(d===u)return this.set(u,this.$M+n);if(d===l)return this.set(l,this.$y+n);if(d===s)return p(1);if(d===a)return p(7);var g=(f={},f[i]=t,f[o]=e,f[r]=1e3,f)[d]||1,m=this.$d.getTime()+n*g;return k.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,s=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=n.meridiem,f=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},d=function(t){return k.s(o%12||12,t,"0")},g=l||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return k.s(e.$y,4,"0");case"M":return a+1;case"MM":return k.s(a+1,2,"0");case"MMM":return f(n.monthsShort,a,c,3);case"MMMM":return f(c,a);case"D":return e.$D;case"DD":return k.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(n.weekdaysMin,e.$W,u,2);case"ddd":return f(n.weekdaysShort,e.$W,u,3);case"dddd":return u[e.$W];case"H":return String(o);case"HH":return k.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return g(o,s,!0);case"A":return g(o,s,!1);case"m":return String(s);case"mm":return k.s(s,2,"0");case"s":return String(e.$s);case"ss":return k.s(e.$s,2,"0");case"SSS":return k.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,h){var d,p=this,g=k.p(f),m=C(n),v=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=function(){return k.m(p,m)};switch(g){case l:d=b()/12;break;case u:d=b();break;case c:d=b()/3;break;case a:d=(y-v)/6048e5;break;case s:d=(y-v)/864e5;break;case o:d=y/e;break;case i:d=y/t;break;case r:d=y/1e3;break;default:d=y}return h?d:k.a(d)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return b[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=A(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return k.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),T=M.prototype;return C.prototype=T,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",s],["$M",u],["$y",l],["$D",f]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),C.extend=function(t,e){return t.$i||(t(e,M,C),t.$i=!0),C},C.locale=A,C.isDayjs=$,C.unix=function(t){return C(1e3*t)},C.en=b[y],C.Ls=b,C.p={},C}()),g="3.7.7",m=g,v="function"==typeof Buffer,y="function"==typeof TextDecoder?new TextDecoder:void 0,b="function"==typeof TextEncoder?new TextEncoder:void 0,w=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),$=(t=>{let e={};return w.forEach(((t,n)=>e[t]=n)),e})(),A=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,C=String.fromCharCode.bind(String),k="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),M=t=>t.replace(/=/g,"").replace(/[+\/]/g,(t=>"+"==t?"-":"_")),T=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),I=t=>{let e,n,r,i,o="";const s=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,o+=w[e>>18&63]+w[e>>12&63]+w[e>>6&63]+w[63&e]}return s?o.slice(0,s-3)+"===".substring(s):o},S="function"==typeof btoa?t=>btoa(t):v?t=>Buffer.from(t,"binary").toString("base64"):I,D=v?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let n=0,r=t.length;n<r;n+=4096)e.push(C.apply(null,t.subarray(n,n+4096)));return S(e.join(""))},E=(t,e=!1)=>e?M(D(t)):D(t),O=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?C(192|e>>>6)+C(128|63&e):C(224|e>>>12&15)+C(128|e>>>6&63)+C(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return C(240|e>>>18&7)+C(128|e>>>12&63)+C(128|e>>>6&63)+C(128|63&e)},N=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,x=t=>t.replace(N,O),H=v?t=>Buffer.from(t,"utf8").toString("base64"):b?t=>D(b.encode(t)):t=>S(x(t)),B=(t,e=!1)=>e?M(H(t)):H(t),U=t=>B(t,!0),_=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,z=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return C(55296+(e>>>10))+C(56320+(1023&e));case 3:return C((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return C((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},F=t=>t.replace(_,z),L=t=>{if(t=t.replace(/\s+/g,""),!A.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,r,i="";for(let o=0;o<t.length;)e=$[t.charAt(o++)]<<18|$[t.charAt(o++)]<<12|(n=$[t.charAt(o++)])<<6|(r=$[t.charAt(o++)]),i+=64===n?C(e>>16&255):64===r?C(e>>16&255,e>>8&255):C(e>>16&255,e>>8&255,255&e);return i},V="function"==typeof atob?t=>atob(T(t)):v?t=>Buffer.from(t,"base64").toString("binary"):L,j=v?t=>k(Buffer.from(t,"base64")):t=>k(V(t).split("").map((t=>t.charCodeAt(0)))),R=t=>j(P(t)),Y=v?t=>Buffer.from(t,"base64").toString("utf8"):y?t=>y.decode(j(t)):t=>F(V(t)),P=t=>T(t.replace(/[-_]/g,(t=>"-"==t?"+":"/"))),W=t=>Y(P(t)),Z=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),J=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,Z(e));t("fromBase64",(function(){return W(this)})),t("toBase64",(function(t){return B(this,t)})),t("toBase64URI",(function(){return B(this,!0)})),t("toBase64URL",(function(){return B(this,!0)})),t("toUint8Array",(function(){return R(this)}))},q=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,Z(e));t("toBase64",(function(t){return E(this,t)})),t("toBase64URI",(function(){return E(this,!0)})),t("toBase64URL",(function(){return E(this,!0)}))},K={version:g,VERSION:m,atob:V,atobPolyfill:L,btoa:S,btoaPolyfill:I,fromBase64:W,toBase64:B,encode:B,encodeURI:U,encodeURL:U,utob:x,btou:F,decode:W,isValid:t=>{if("string"!=typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:E,toUint8Array:R,extendString:J,extendUint8Array:q,extendBuiltins:()=>{J(),q()}};let G=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[t]];return e};for(var Q={byteLength:function(t){var e=it(t),n=e[0],r=e[1];return 3*(n+r)/4-r},toByteArray:function(t){var e,n,r=it(t),i=r[0],o=r[1],s=new et(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)e=tt[t.charCodeAt(n)]<<18|tt[t.charCodeAt(n+1)]<<12|tt[t.charCodeAt(n+2)]<<6|tt[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=tt[t.charCodeAt(n)]<<2|tt[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=tt[t.charCodeAt(n)]<<10|tt[t.charCodeAt(n+1)]<<4|tt[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},fromByteArray:function(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(ot(t,s,s+o>a?a:s+o));return 1===r?(e=t[n-1],i.push(X[e>>2]+X[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(X[e>>10]+X[e>>4&63]+X[e<<2&63]+"=")),i.join("")}},X=[],tt=[],et="undefined"!=typeof Uint8Array?Uint8Array:Array,nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt=0;rt<64;++rt)X[rt]=nt[rt],tt[nt.charCodeAt(rt)]=rt;function it(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function ot(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(X[(i=r)>>18&63]+X[i>>12&63]+X[i>>6&63]+X[63&i]);return o.join("")}tt["-".charCodeAt(0)]=62,tt["_".charCodeAt(0)]=63;var st={};function at(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}}st.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},st.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g};var ut,ct=["scroll","wheel","touchstart","touchmove","touchenter","touchend","touchleave","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover"];if(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(n){}return t}()){var lt=EventTarget.prototype.addEventListener;ut=lt,EventTarget.prototype.addEventListener=function(t,e,n){var r,i,o,s="object"==typeof n&&null!==n,a=s?n.capture:n;(n=s?(i=n,o=Object.getOwnPropertyDescriptor(i,"passive"),o&&!0!==o.writable&&void 0===o.set?Object.assign({},i):i):{}).passive=void 0!==(r=n.passive)?r:-1!==ct.indexOf(t)&&!0,n.capture=void 0!==a&&a,ut.call(this,t,e,n)},EventTarget.prototype.addEventListener._original=ut}var ft=function(){return ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ft.apply(this,arguments)};function ht(t){return t.endsWith("-v2")?2:1}"function"==typeof SuppressedError&&SuppressedError;var dt=function(){function t(t,e,n,r){var i=this;this.iframe=null,this.iframeId=null,this.sessionId="",this.$container=null,this.initialized=!1,this.onMessage=function(t){i.onSdkMessage(t)},this.baseUrl=t||this.getCurrentBaseUrl("https://api.sumsub.com",e.accessToken),this.config=e,this.config.packageVersion=this.getVersion(),this.callbacks=n,this.options=r}return t.prototype.getVersion=function(){return"2.3.4"},t.prototype.getCurrentBaseUrl=function(t,e){var n=["_act-sbx-jwt-","_act-jwt-"].find((function(t){return e.startsWith(t)}));if(n)for(var r=0,i=e.replace(n,"").replace("-v2","").split(".").map((function(t){try{return atob(t)}catch(e){return t}})).map((function(t){try{return JSON.parse(t)}catch(e){return t}}));r<i.length;r++){var o=i[r];if(null==o?void 0:o.url)return o.url}return t},t.prototype.getIframeId=function(){if(2===this.config.version)try{return btoa(this.config.accessToken)}catch(t){return this.config.accessToken}return String(Math.floor(1e8*Math.random()))},t.prototype.launch=function(t){this.options.addViewportTag&&this.addViewportTag(),this.iframe=this.createIframe(t),this.sessionId="",this.iframeId="id_"+this.getIframeId(),this.iframe&&this.config&&(this.registerEventListener(),this.iframe.src=this.getIframeSrc())},t.prototype.addViewportTag=function(){var t=document.getElementsByName("viewport");if(!t||0===t.length){var e=document.createElement("meta");e.setAttribute("name","viewport"),e.setAttribute("content","width=device-width,user-scalable=yes"),document.head.appendChild(e)}},t.prototype.createIframe=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)return null;this.$container=e;var n=document.createElement("iframe");for(n.width="100%",n.scrolling="no",n.allow="camera; microphone; geolocation; clipboard-write",n.setAttribute("frameborder","0");e.firstChild;)e.removeChild(e.firstChild);return e.appendChild(n),n},t.prototype.getIframeSrc=function(){var t="?_="+this.iframeId,e=2===this.config.version?"/websdk":"/idensic",n=this.baseUrl+e+"/websdk.html";return 2===this.config.version&&this.config.theme&&(t+="&theme="+this.config.theme),2===this.config.version&&this.config.customizationName&&(t+="&customizationName="+encodeURIComponent(this.config.customizationName)),n+t},t.prototype.registerEventListener=function(){window.addEventListener("message",this.onMessage)},t.prototype.onSdkMessage=function(t){var e;if(this.baseUrl===t.origin){var n=t.data;if(n.method&&~n.method.indexOf("idCheck")&&(!this.sessionId||this.sessionId===n.sessionId)&&(null===(e=this.iframe)||void 0===e?void 0:e.contentWindow)){if("idCheck.onReady"==n.method&&n.frameId===this.iframeId){this.sessionId=n.sessionId;var r={options:{adaptIframeHeight:this.options.adaptIframeHeight}};this.iframe.contentWindow.postMessage(ft(ft({method:"idCheck.init"},this.config),r),"*")}if("idCheck.onInitialized"==n.method&&(this.initialized=!0),"idCheck.onResize"==n.method&&this.options.adaptIframeHeight&&(this.iframe.style.height=n.height+"px"),"idCheck.scrollTo"==n.method&&this.options.adaptIframeHeight)this.scrollTo(n.top);else{var i=n.method;delete n.method,delete n.frameId,delete n.sessionId,"idCheck.onError"===i&&"invalid-token"===n.code?this.callExpirationHandler():"idCheck.onError"===i&&"function"==typeof this.callbacks.onError?this.callbacks.onError(n):"function"==typeof this.callbacks.onMessage&&this.callbacks.onMessage(i,n)}}}},t.prototype.callExpirationHandler=function(){var t=this,e=this.callbacks.expirationHandler;e.legacy?e.handler((function(e){return t.updateAccessTokenOrReinitialize(e)})):e.handler().then((function(e){return t.updateAccessTokenOrReinitialize(e)}),(function(e){null!=e||(e="Failed to update access token"),e.message&&(e=e.message),"string"!=typeof e&&(e=String(e)),t.updateAccessToken(null,e)}))},t.prototype.updateAccessTokenOrReinitialize=function(t){var e=ht(t);if(this.iframe&&!this.initialized&&this.config.version!=e)return this.sessionId="",this.config.accessToken=t,this.config.version=e,this.baseUrl=this.getCurrentBaseUrl(this.baseUrl,t),this.iframeId="id_"+this.getIframeId(),void(this.iframe.src=this.getIframeSrc());this.updateAccessToken(t)},t.prototype.scrollTo=function(t){for(var e,n,r=null===(e=this.iframe)||void 0===e?void 0:e.parentElement;0===(null==r?void 0:r.scrollTop)&&"BODY"!==(null==r?void 0:r.tagName);)r=null==r?void 0:r.parentElement;if(0===(null==r?void 0:r.scrollTop)&&"BODY"===(null==r?void 0:r.tagName)){var i=(null===(n=this.iframe)||void 0===n?void 0:n.getBoundingClientRect().top)||0;window.scrollTo({top:i+t,behavior:"smooth"})}else null==r||r.scrollTo({top:t,behavior:"smooth"})},t.prototype.updateAccessToken=function(t,e){var n,r;null===(r=null===(n=this.iframe)||void 0===n?void 0:n.contentWindow)||void 0===r||r.postMessage({method:"idCheck.updateAccessToken",accessToken:t,error:e},"*")},t.prototype.destroy=function(){for(window.removeEventListener("message",this.onMessage);this.$container&&this.$container.firstChild;)this.$container.removeChild(this.$container.firstChild);this.$container=null},t.prototype.navigateBack=function(){var t,e;null===(e=null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)||void 0===e||e.postMessage({method:"idCheck.callNavigationBack"},"*")},t}(),pt=function(){function t(t,e){if(this.config=null,this.reusableConfig=null,this.eventHandlers={},this.anyEventHandler=null,this.options={adaptIframeHeight:!0,addViewportTag:!0},"string"!=typeof t)throw new Error("Access token must be a string");if("function"!=typeof e)throw new Error("updateAccessToken callback is required");this.accessToken=t,this.updateAccessToken=e}return t.prototype.onTestEnv=function(){return this},t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withConf=function(t){return this.config=t,this},t.prototype.withReusableKycConf=function(t){return this.reusableConfig=t,this},t.prototype.withOptions=function(t){return t.hasOwnProperty("adaptIframeHeight")&&(this.options.adaptIframeHeight=t.adaptIframeHeight),t.hasOwnProperty("addViewportTag")&&(this.options.addViewportTag=t.addViewportTag),this},t.prototype.on=function(t,e){return this.eventHandlers[t]=e,this},t.prototype.onMessage=function(t){return this.anyEventHandler=t,this},t.prototype.onNavigationUiControlsStateChanged=function(t){return this.eventHandlers["idCheck.onNavigationUiControlsStateChanged"]=t,this},t.prototype.build=function(){var t,e,n,r,i,o,s,a,u,c,l,f,h=this,d=ht(this.accessToken);return new dt(this.baseUrl,{version:d,theme:null===(t=this.config)||void 0===t?void 0:t.theme,customizationName:null===(e=this.config)||void 0===e?void 0:e.customizationName,accessToken:this.accessToken,lang:null===(n=this.config)||void 0===n?void 0:n.lang,email:null===(r=this.config)||void 0===r?void 0:r.email,phone:null===(i=this.config)||void 0===i?void 0:i.phone,country:null===(o=this.config)||void 0===o?void 0:o.country,uiConf:null===(s=this.config)||void 0===s?void 0:s.uiConf,i18n:null===(a=this.config)||void 0===a?void 0:a.i18n,documentsByCountries:null===(u=this.config)||void 0===u?void 0:u.documentsByCountries,documentDefinitions:null===(c=this.config)||void 0===c?void 0:c.documentDefinitions,autoSelectDocumentDefinitions:null===(l=this.config)||void 0===l?void 0:l.autoSelectDocumentDefinitions,controlledNavigationBack:null===(f=this.config)||void 0===f?void 0:f.controlledNavigationBack,reusableConfig:this.reusableConfig},{expirationHandler:{legacy:!1,handler:this.updateAccessToken},onMessage:function(t,e){var n,r=h.eventHandlers[t];r?r(e):null===(n=h.anyEventHandler)||void 0===n||n.call(h,t,e)}},this.options)},t}(),gt=function(){function t(t,e){this.debugEnabled=!1,this.options={adaptIframeHeight:!0,addViewportTag:!0},this.config=null,this.reusableConfig=null,this.accessToken=null,this.expirationHandler=null,this.baseUrl=t,this.flowName=e}return t.prototype.withAccessToken=function(t,e){if(this.accessToken=t,!e||"function"!=typeof e)throw new Error('Invalid parameter, "expirationHandler" must be a function');return this.expirationHandler=e,this},t.prototype.debug=function(t){return this.debugEnabled=t,this},t.prototype.withOptions=function(t){return t.hasOwnProperty("adaptIframeHeight")&&(this.options.adaptIframeHeight=t.adaptIframeHeight),t.hasOwnProperty("addViewportTag")&&(this.options.addViewportTag=t.addViewportTag),this},t.prototype.withConf=function(t){return this.config=t,this},t.prototype.withReusableKycConf=function(t){return this.reusableConfig=t,this},t.prototype.build=function(){var t,e,n,r,i,o,s,a,u,c,l,f,h;if(!this.accessToken||!this.expirationHandler)throw new Error("Configure access token end the expiration handler before");var d=ht(this.accessToken);return new dt(this.baseUrl,{version:d,theme:null===(t=this.config)||void 0===t?void 0:t.theme,customizationName:null===(e=this.config)||void 0===e?void 0:e.customizationName,accessToken:this.accessToken,flowName:this.flowName,lang:null===(n=this.config)||void 0===n?void 0:n.lang,email:null===(r=this.config)||void 0===r?void 0:r.email,phone:null===(i=this.config)||void 0===i?void 0:i.phone,country:null===(o=this.config)||void 0===o?void 0:o.country,uiConf:null===(s=this.config)||void 0===s?void 0:s.uiConf,i18n:null===(a=this.config)||void 0===a?void 0:a.i18n,documentsByCountries:null===(u=this.config)||void 0===u?void 0:u.documentsByCountries,documentDefinitions:null===(c=this.config)||void 0===c?void 0:c.documentDefinitions,autoSelectDocumentDefinitions:null===(l=this.config)||void 0===l?void 0:l.autoSelectDocumentDefinitions,reusableConfig:this.reusableConfig},{expirationHandler:{legacy:!0,handler:this.expirationHandler},onMessage:null===(f=this.config)||void 0===f?void 0:f.onMessage,onError:null===(h=this.config)||void 0===h?void 0:h.onError},{adaptIframeHeight:this.options.adaptIframeHeight,addViewportTag:this.options.addViewportTag,debug:this.debugEnabled})},t}(),mt={Builder:function(t,e){return new gt(t,e)},init:function(t,e){return new pt(t,e)}};export{Q as b,d as c,p as d,K as g,st as i,at as m,G as n,mt as s};
